<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ì½”ë“œ ì •ë ¬ (Beautify) â€“ ë¬´ë£Œ ì˜¨ë¼ì¸ HTML, CSS, JS, SQL, JSON ì½”ë“œ í¬ë§·í„°</title>
<meta name="description" content="HTML, CSS, JavaScript, SQL, JSON ì½”ë“œë¥¼ ìë™ìœ¼ë¡œ ë³´ê¸° ì¢‹ê²Œ ì •ë ¬í•´ì£¼ëŠ” ë¬´ë£Œ ì˜¨ë¼ì¸ ë„êµ¬ì…ë‹ˆë‹¤. ì„¤ì¹˜ ì—†ì´ ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ ì‚¬ìš©í•˜ì„¸ìš”.">
<meta name="keywords" content="ì½”ë“œ ì •ë ¬, ì½”ë“œ í¬ë§·í„°, HTML ì •ë ¬, CSS ì •ë ¬, JavaScript ì •ë ¬, SQL ì •ë ¬, JSON ì •ë ¬, beautify, ì½”ë“œ ì˜ˆì˜ê²Œ, ì½”ë“œ í¬ë§·, minify, ì½”ë“œ ì••ì¶•">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://webtoolbox.kr/beautify-code/">

<!-- Open Graph -->
<meta property="og:title" content="ì½”ë“œ ì •ë ¬ (Beautify) â€“ ë¬´ë£Œ ì˜¨ë¼ì¸ ì½”ë“œ í¬ë§·í„°">
<meta property="og:description" content="HTML, CSS, JS, SQL, JSON ì½”ë“œë¥¼ ìë™ìœ¼ë¡œ ë³´ê¸° ì¢‹ê²Œ ì •ë ¬í•´ì£¼ëŠ” ë¬´ë£Œ ì˜¨ë¼ì¸ ë„êµ¬. ì„œë²„ ì „ì†¡ ì—†ì´ 100% ë¸Œë¼ìš°ì € ì²˜ë¦¬.">
<meta property="og:type" content="website">
<meta property="og:url" content="https://webtoolbox.kr/beautify-code/">
<meta property="og:site_name" content="íˆ´íˆ´ë²„ìŠ¤">
<meta property="og:locale" content="ko_KR">

<!-- Twitter -->
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ì½”ë“œ ì •ë ¬ (Beautify) â€“ ë¬´ë£Œ ì˜¨ë¼ì¸ ì½”ë“œ í¬ë§·í„°">
<meta name="twitter:description" content="HTML, CSS, JS, SQL, JSON ì½”ë“œë¥¼ ìë™ìœ¼ë¡œ ë³´ê¸° ì¢‹ê²Œ ì •ë ¬. ì„¤ì¹˜ ì—†ì´ ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ ì‚¬ìš©.">

<!-- Structured Data: WebApplication -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "ì½”ë“œ ì •ë ¬ (Beautify)",
  "description": "HTML, CSS, JavaScript, SQL, JSON ì½”ë“œë¥¼ ìë™ìœ¼ë¡œ ë³´ê¸° ì¢‹ê²Œ ì •ë ¬í•´ì£¼ëŠ” ë¬´ë£Œ ì˜¨ë¼ì¸ ë„êµ¬",
  "url": "https://webtoolbox.kr/beautify-code/",
  "applicationCategory": "DeveloperApplication",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "KRW"
  },
  "browserRequirements": "Requires JavaScript",
  "isPartOf": {
    "@type": "WebSite",
    "name": "íˆ´íˆ´ë²„ìŠ¤",
    "url": "https://webtoolbox.kr"
  }
}
</script>

<!-- Structured Data: FAQPage -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "ì–´ë–¤ ì½”ë“œ ì–¸ì–´ë¥¼ ì§€ì›í•˜ë‚˜ìš”?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "HTML, CSS, JavaScript, SQL, JSON 5ê°€ì§€ ì–¸ì–´ë¥¼ ì§€ì›í•©ë‹ˆë‹¤. HTML ì•ˆì— CSS, JSê°€ í¬í•¨ëœ í˜¼í•© ì½”ë“œë„ ìë™ìœ¼ë¡œ ì •ë ¬ë©ë‹ˆë‹¤."
      }
    },
    {
      "@type": "Question",
      "name": "ì½”ë“œê°€ ì„œë²„ì— ì „ì†¡ë˜ë‚˜ìš”?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "ì•„ë‹ˆìš”. ëª¨ë“  ì½”ë“œ ì •ë ¬ì€ ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ì²˜ë¦¬ë©ë‹ˆë‹¤. ì…ë ¥í•œ ì½”ë“œê°€ ì™¸ë¶€ ì„œë²„ë¡œ ì „ì†¡ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¯¼ê°í•œ ì½”ë“œë„ ì•ˆì „í•˜ê²Œ ì •ë ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
      }
    },
    {
      "@type": "Question",
      "name": "ì½”ë“œ ê¸¸ì´ì— ì œí•œì´ ìˆë‚˜ìš”?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "ê¸¸ì´ ì œí•œì€ ì—†ìŠµë‹ˆë‹¤. ìˆ˜ì²œ ì¤„ì˜ ì½”ë“œë„ ì •ìƒì ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤."
      }
    },
    {
      "@type": "Question",
      "name": "ì••ì¶•(Minify)ëœ ì½”ë“œë„ ì •ë ¬í•  ìˆ˜ ìˆë‚˜ìš”?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "ë„¤. í•œ ì¤„ë¡œ ì••ì¶•ëœ ì½”ë“œë„ ì •ìƒì ìœ¼ë¡œ ì •ë ¬ë©ë‹ˆë‹¤. ë°˜ëŒ€ë¡œ ì •ë ¬ëœ ì½”ë“œë¥¼ ì••ì¶•(Minify)í•˜ëŠ” ê¸°ëŠ¥ë„ ì œê³µí•©ë‹ˆë‹¤."
      }
    },
    {
      "@type": "Question",
      "name": "ì›ë³¸ ì½”ë“œë¡œ ë˜ëŒë¦´ ìˆ˜ ìˆë‚˜ìš”?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "ë„¤. ë³€í™˜ í›„ 'ì›ë³¸' ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì •ë ¬í•˜ê¸° ì „ ì›ë³¸ ì½”ë“œë¡œ ì¦‰ì‹œ ë˜ëŒë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤."
      }
    },
    {
      "@type": "Question",
      "name": "íŒŒì¼ì„ ì§ì ‘ ì—…ë¡œë“œí•  ìˆ˜ ìˆë‚˜ìš”?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "ë„¤. íŒŒì¼ì„ ë“œë˜ê·¸ ì•¤ ë“œë¡­í•˜ê±°ë‚˜ íŒŒì¼ ì—´ê¸° ë²„íŠ¼ìœ¼ë¡œ ì—…ë¡œë“œí•  ìˆ˜ ìˆìœ¼ë©°, ì •ë ¬ëœ ê²°ê³¼ë¥¼ íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤."
      }
    }
  ]
}
</script>

<!-- BreadcrumbList -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    { "@type": "ListItem", "position": 1, "name": "íˆ´íˆ´ë²„ìŠ¤", "item": "https://webtoolbox.kr" },
    { "@type": "ListItem", "position": 2, "name": "ì½”ë“œ ì •ë ¬ (Beautify)", "item": "https://webtoolbox.kr/beautify-code/" }
  ]
}
</script>

<link rel="icon" href="/favicon.png" type="image/png">
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.15.1/beautify.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.15.1/beautify-css.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.15.1/beautify-html.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/sql-formatter/4.0.2/sql-formatter.min.js"></script>
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
  :root {
    --bg: #f6f7f9; --surface: #ffffff; --border: #e4e6eb;
    --text: #1a1c20; --text-sub: #5f6368; --text-muted: #9aa0a8;
    --accent: #2563eb; --accent-hover: #1d4ed8; --accent-light: #eff4ff;
    --green: #16a34a; --green-light: #dcfce7;
    --red: #dc2626; --red-light: #fef2f2;
    --orange: #ea580c; --orange-light: #fff7ed;
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.06);
    --radius: 14px; --radius-sm: 10px;
  }
  body { font-family: 'Noto Sans KR', sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; -webkit-font-smoothing: antialiased; }

  /* Nav */
  .nav { background: rgba(255,255,255,0.92); border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 100; backdrop-filter: blur(12px); }
  .nav-inner { max-width: 960px; margin: 0 auto; padding: 0 24px; height: 56px; display: flex; align-items: center; gap: 10px; }
  .nav-logo { display: flex; align-items: center; gap: 8px; text-decoration: none; color: var(--text); }
  .nav-logo img { width: 30px; height: 30px; border-radius: 7px; }
  .nav-logo-text { font-family: 'Outfit', sans-serif; font-weight: 700; font-size: 17px; }
  .nav-sep { color: var(--border); font-size: 20px; font-weight: 300; }
  .nav-page { font-size: 14px; color: var(--text-sub); font-weight: 500; }

  .container { max-width: 960px; margin: 0 auto; padding: 28px 24px 80px; }

  /* Header */
  .page-header { text-align: center; margin-bottom: 24px; }
  .page-header h1 { font-family: 'Outfit', sans-serif; font-size: 30px; font-weight: 700; letter-spacing: -0.5px; margin-bottom: 8px; }
  .page-header p { font-size: 15px; color: var(--text-sub); max-width: 560px; margin: 0 auto; }
  .privacy-badge { display: inline-flex; align-items: center; gap: 6px; margin-top: 10px; padding: 5px 14px; background: var(--green-light); color: var(--green); font-size: 12px; font-weight: 600; border-radius: 20px; }

  .ad-slot { margin: 20px 0; }
  .ad-banner { background: var(--surface); border: 1px dashed var(--border); border-radius: var(--radius-sm); min-height: 90px; display: flex; align-items: center; justify-content: center; color: var(--text-muted); font-size: 13px; }

  /* Toolbar */
  .toolbar {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius) var(--radius) 0 0;
    padding: 10px 14px;
    display: flex;
    align-items: center;
    gap: 8px;
    flex-wrap: wrap;
    box-shadow: var(--shadow-sm);
  }
  .lang-tabs { display: flex; gap: 2px; overflow-x: auto; -webkit-overflow-scrolling: touch; scrollbar-width: none; flex-shrink: 0; }
  .lang-tabs::-webkit-scrollbar { display: none; }
  .lang-tab {
    padding: 7px 13px;
    border: 1px solid var(--border);
    border-radius: 6px;
    background: var(--bg);
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    color: var(--text-sub);
    font-family: 'JetBrains Mono', monospace;
    transition: all 0.15s;
    white-space: nowrap;
    min-height: 36px;
    display: flex;
    align-items: center;
  }
  .lang-tab:hover { border-color: var(--accent); color: var(--accent); }
  .lang-tab.active { background: var(--accent); color: #fff; border-color: var(--accent); }

  .toolbar-sep { width: 1px; height: 24px; background: var(--border); flex-shrink: 0; }

  .toolbar-right { margin-left: auto; display: flex; gap: 5px; align-items: center; flex-wrap: wrap; }

  .option-group { display: flex; align-items: center; gap: 4px; font-size: 12px; color: var(--text-sub); }
  .option-select {
    padding: 6px 8px;
    border: 1px solid var(--border);
    border-radius: 5px;
    font-size: 12px;
    font-family: 'JetBrains Mono', monospace;
    color: var(--text);
    background: var(--surface);
    cursor: pointer;
    min-height: 32px;
  }

  .btn {
    padding: 7px 14px;
    border: none;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    font-family: 'Noto Sans KR', sans-serif;
    transition: all 0.15s;
    white-space: nowrap;
    min-height: 36px;
    display: inline-flex;
    align-items: center;
    gap: 4px;
  }
  .btn-primary { background: var(--accent); color: #fff; }
  .btn-primary:hover { background: var(--accent-hover); }
  .btn-orange { background: var(--orange); color: #fff; }
  .btn-orange:hover { background: #c2410c; }
  .btn-outline { background: var(--bg); color: var(--text-sub); border: 1px solid var(--border); }
  .btn-outline:hover { border-color: var(--accent); color: var(--accent); }
  .btn-outline.danger:hover { border-color: var(--red); color: var(--red); }
  .btn-icon { padding: 7px 8px; font-size: 15px; }

  /* Editor */
  .editor-wrapper { position: relative; }
  .editor-box {
    border: 1px solid var(--border);
    border-top: none;
    overflow: hidden;
    box-shadow: var(--shadow-sm);
    position: relative;
  }
  #codeArea {
    width: 100%;
    min-height: 440px;
    padding: 18px;
    border: none;
    outline: none;
    resize: vertical;
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    line-height: 1.7;
    color: var(--text);
    background: var(--surface);
    tab-size: 2;
    white-space: pre;
    overflow-wrap: normal;
    overflow-x: auto;
  }
  #codeArea::placeholder { color: var(--text-muted); font-family: 'Noto Sans KR', sans-serif; font-size: 14px; white-space: pre-line; }
  #codeArea:focus { background: #fafbfe; }

  /* Drag overlay */
  .drag-overlay {
    position: absolute;
    inset: 0;
    background: rgba(37, 99, 235, 0.06);
    border: 2px dashed var(--accent);
    border-radius: 0 0 var(--radius) var(--radius);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 10;
    pointer-events: none;
  }
  .drag-overlay.active { display: flex; }
  .drag-overlay span { background: var(--accent-light); color: var(--accent); padding: 10px 24px; border-radius: 8px; font-size: 14px; font-weight: 600; }

  /* Status bar */
  .status-bar {
    border: 1px solid var(--border);
    border-top: none;
    border-radius: 0 0 var(--radius) var(--radius);
    padding: 8px 14px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-size: 12px;
    color: var(--text-muted);
    background: var(--bg);
    gap: 8px;
    flex-wrap: wrap;
  }
  .status-left { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
  .status-badge {
    display: inline-flex;
    align-items: center;
    gap: 4px;
    padding: 2px 8px;
    border-radius: 4px;
    font-size: 11px;
    font-weight: 600;
    flex-shrink: 0;
  }
  .status-badge.success { background: var(--green-light); color: var(--green); }
  .status-badge.idle { background: #f3f4f6; color: var(--text-muted); }
  .status-badge.error { background: var(--red-light); color: var(--red); }
  .char-count { font-size: 11px; color: var(--text-muted); }
  .shortcut-hint { font-size: 11px; color: var(--text-muted); }
  .shortcut-hint kbd { background: #e8eaed; padding: 1px 5px; border-radius: 3px; font-family: 'JetBrains Mono', monospace; font-size: 10px; }

  /* Toast */
  .toast {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%) translateY(20px);
    background: var(--text);
    color: #fff;
    padding: 10px 20px;
    border-radius: 8px;
    font-size: 13px;
    font-weight: 500;
    opacity: 0;
    transition: all 0.3s;
    z-index: 999;
    pointer-events: none;
  }
  .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

  /* FAQ */
  .faq-section { margin-top: 44px; }
  .faq-section h2 { font-size: 20px; font-weight: 700; margin-bottom: 16px; }
  .faq-item { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius-sm); margin-bottom: 8px; overflow: hidden; }
  .faq-q { padding: 14px 18px; font-weight: 500; font-size: 14px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; gap: 12px; min-height: 48px; user-select: none; -webkit-user-select: none; }
  .faq-q::after { content: '+'; font-size: 20px; color: var(--text-muted); transition: transform 0.2s; flex-shrink: 0; }
  .faq-item.open .faq-q::after { transform: rotate(45deg); }
  .faq-a { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; }
  .faq-a-inner { padding: 0 18px 14px; color: var(--text-sub); font-size: 14px; line-height: 1.8; }
  .faq-item.open .faq-a { max-height: 300px; }

  /* Usage guide */
  .usage-section { margin-top: 36px; }
  .usage-section h2 { font-size: 20px; font-weight: 700; margin-bottom: 12px; }
  .usage-desc { color: var(--text-sub); font-size: 14px; line-height: 1.8; }

  /* Hidden file input */
  #fileInput { display: none; }

  /* Mobile */
  @media (max-width: 640px) {
    .container { padding: 20px 16px 60px; }
    .page-header h1 { font-size: 22px; }
    .page-header p { font-size: 13px; }
    .toolbar { gap: 6px; padding: 8px 10px; }
    .lang-tab { padding: 6px 10px; font-size: 11px; min-height: 34px; }
    .btn { padding: 6px 10px; font-size: 11px; min-height: 34px; }
    .toolbar-right { margin-left: 0; width: 100%; justify-content: space-between; }
    .toolbar-sep { display: none; }
    #codeArea { min-height: 300px; font-size: 12px; padding: 14px; }
    .status-bar { padding: 6px 10px; }
    .shortcut-hint { display: none; }
    .faq-q { padding: 12px 14px; font-size: 13px; }
    .faq-a-inner { font-size: 13px; padding: 0 14px 12px; }
    .btn-label-mobile { display: none; }
  }
  @media (min-width: 641px) {
    .btn-label-desktop { display: inline; }
  }
</style>
</head>
<body>

<nav class="nav" aria-label="ë©”ì¸ ë„¤ë¹„ê²Œì´ì…˜">
  <div class="nav-inner">
    <a href="/" class="nav-logo" aria-label="íˆ´íˆ´ë²„ìŠ¤ í™ˆ">
      <img src="/favicon.png" alt="íˆ´íˆ´ë²„ìŠ¤" width="30" height="30">
      <span class="nav-logo-text">íˆ´íˆ´ë²„ìŠ¤</span>
    </a>
    <span class="nav-sep" aria-hidden="true">/</span>
    <span class="nav-page">ì½”ë“œ ì •ë ¬</span>
  </div>
</nav>

<main class="container">
  <header class="page-header">
    <h1>ì½”ë“œ ì •ë ¬ (Beautify)</h1>
    <p>HTML, CSS, JavaScript, SQL, JSON ì½”ë“œë¥¼ ìë™ìœ¼ë¡œ ë³´ê¸° ì¢‹ê²Œ ì •ë ¬í•©ë‹ˆë‹¤. ì½”ë“œë¥¼ ë¶™ì—¬ë„£ê³  ë³€í™˜ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.</p>
    <div class="privacy-badge">ğŸ”’ ì„œë²„ ì „ì†¡ ì—†ìŒ â€“ 100% ë¸Œë¼ìš°ì €ì—ì„œ ì²˜ë¦¬</div>
  </header>

  <div class="ad-slot"><div class="ad-banner">ê´‘ê³  ì˜ì—­</div></div>

  <!-- Toolbar -->
  <div class="toolbar" role="toolbar" aria-label="ì½”ë“œ ì •ë ¬ ë„êµ¬ ëª¨ìŒ">
    <div class="lang-tabs" role="tablist" aria-label="ì–¸ì–´ ì„ íƒ">
      <button class="lang-tab active" data-lang="html" role="tab" aria-selected="true">HTML</button>
      <button class="lang-tab" data-lang="css" role="tab" aria-selected="false">CSS</button>
      <button class="lang-tab" data-lang="js" role="tab" aria-selected="false">JS</button>
      <button class="lang-tab" data-lang="sql" role="tab" aria-selected="false">SQL</button>
      <button class="lang-tab" data-lang="json" role="tab" aria-selected="false">JSON</button>
    </div>

    <div class="toolbar-sep" aria-hidden="true"></div>

    <div class="toolbar-right">
      <div class="option-group">
        <label for="indentSelect">ë“¤ì—¬ì“°ê¸°</label>
        <select class="option-select" id="indentSelect">
          <option value="2" selected>2ì¹¸</option>
          <option value="4">4ì¹¸</option>
          <option value="tab">Tab</option>
        </select>
      </div>
      <button class="btn btn-primary" id="btnBeautify" title="ì •ë ¬ (Ctrl+Enter)">âœ¨ ì •ë ¬</button>
      <button class="btn btn-orange" id="btnMinify" title="ì••ì¶• (Minify)">âš¡ ì••ì¶•</button>
      <button class="btn btn-outline" id="btnOriginal" disabled title="ì›ë³¸ ë³µì›">â†© ì›ë³¸</button>
      <button class="btn btn-outline" id="btnCopy" title="í´ë¦½ë³´ë“œ ë³µì‚¬">ğŸ“‹</button>
      <button class="btn btn-outline" id="btnFile" title="íŒŒì¼ ì—´ê¸°">ğŸ“‚</button>
      <button class="btn btn-outline" id="btnDownload" title="íŒŒì¼ ë‹¤ìš´ë¡œë“œ">ğŸ’¾</button>
      <button class="btn btn-outline danger" id="btnClear" title="ì´ˆê¸°í™”">âœ•</button>
    </div>
  </div>

  <input type="file" id="fileInput" accept=".html,.htm,.css,.js,.json,.sql,.txt,.jsx,.ts,.tsx,.scss,.less,.xml,.svg">

  <!-- Editor -->
  <div class="editor-wrapper">
    <div class="editor-box">
      <textarea id="codeArea" placeholder="ì •ë ¬í•  ì½”ë“œë¥¼ ì—¬ê¸°ì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.&#10;&#10;íŒŒì¼ì„ ë“œë˜ê·¸ ì•¤ ë“œë¡­í•˜ê±°ë‚˜, ğŸ“‚ ë²„íŠ¼ìœ¼ë¡œ íŒŒì¼ì„ ì—´ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.&#10;Ctrl+Enterë¡œ ë°”ë¡œ ì •ë ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." spellcheck="false" aria-label="ì½”ë“œ ì…ë ¥ ì˜ì—­"></textarea>
    </div>
    <div class="drag-overlay" id="dragOverlay"><span>ğŸ“„ íŒŒì¼ì„ ë†“ìœ¼ì„¸ìš”</span></div>
  </div>

  <!-- Status -->
  <div class="status-bar">
    <div class="status-left">
      <span class="status-badge idle" id="statusBadge">ëŒ€ê¸°</span>
      <span id="statusText">ì½”ë“œë¥¼ ì…ë ¥í•˜ê³  ë³€í™˜ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”</span>
    </div>
    <div style="display:flex;align-items:center;gap:12px;">
      <span class="char-count" id="charCount">0ì Â· 0ì¤„</span>
      <span class="shortcut-hint"><kbd>Ctrl</kbd>+<kbd>Enter</kbd> ì •ë ¬</span>
    </div>
  </div>

  <div class="ad-slot"><div class="ad-banner">ê´‘ê³  ì˜ì—­</div></div>

  <!-- Usage Guide -->
  <section class="usage-section">
    <h2>ì½”ë“œ ì •ë ¬ ë„êµ¬ ì‚¬ìš©ë²•</h2>
    <p class="usage-desc">
      ì½”ë“œ ì •ë ¬(Beautify)ì€ ë“¤ì—¬ì“°ê¸°ê°€ ê¹¨ì§€ê±°ë‚˜ í•œ ì¤„ë¡œ ì••ì¶•ëœ ì½”ë“œë¥¼ ë³´ê¸° ì¢‹ê²Œ ì •ë¦¬í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤. HTML, CSS, JavaScriptëŠ” ê°œë³„ ì–¸ì–´ íƒ­ì„ ì„ íƒí•œ ë’¤ ë³€í™˜í•˜ë©´ í•´ë‹¹ ì–¸ì–´ì— ìµœì í™”ëœ ì •ë ¬ì´ ì ìš©ë©ë‹ˆë‹¤. HTML íƒ­ì—ì„œëŠ” &lt;style&gt;, &lt;script&gt; íƒœê·¸ ë‚´ë¶€ì˜ CSSì™€ JSë„ í•¨ê»˜ ì •ë ¬ë©ë‹ˆë‹¤. SQLì€ í‚¤ì›Œë“œë¥¼ ëŒ€ë¬¸ìë¡œ ë³€í™˜í•˜ê³  ì ˆ(clause) ë‹¨ìœ„ë¡œ ì¤„ë°”ê¿ˆì„ ì ìš©í•©ë‹ˆë‹¤. JSONì€ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í•¨ê»˜ ìˆ˜í–‰í•˜ì—¬ ë¬¸ë²• ì˜¤ë¥˜ê°€ ìˆì„ ê²½ìš° ì˜¤ë¥˜ ìœ„ì¹˜ë¥¼ ì•Œë ¤ì¤ë‹ˆë‹¤. ë°˜ëŒ€ë¡œ ì½”ë“œë¥¼ í•œ ì¤„ë¡œ ì••ì¶•í•˜ë ¤ë©´ ì••ì¶•(Minify) ë²„íŠ¼ì„ ì‚¬ìš©í•˜ì„¸ìš”. ë“¤ì—¬ì“°ê¸° í¬ê¸°ëŠ” 2ì¹¸, 4ì¹¸, Tab ì¤‘ ì„ íƒí•  ìˆ˜ ìˆìœ¼ë©°, ê²°ê³¼ë¥¼ íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œí•˜ê±°ë‚˜ í´ë¦½ë³´ë“œì— ë³µì‚¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </p>
  </section>

  <!-- FAQ -->
  <section class="faq-section">
    <h2>ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ ğŸ’¬</h2>
    <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
      <div class="faq-q" onclick="toggleFaq(this)" itemprop="name">ì–´ë–¤ ì½”ë“œ ì–¸ì–´ë¥¼ ì§€ì›í•˜ë‚˜ìš”?</div>
      <div class="faq-a" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer"><div class="faq-a-inner" itemprop="text">HTML, CSS, JavaScript, SQL, JSON 5ê°€ì§€ ì–¸ì–´ë¥¼ ì§€ì›í•©ë‹ˆë‹¤. HTML íƒ­ì—ì„œëŠ” í˜¼í•©ëœ ì½”ë“œ(HTML ì•ˆì— CSS, JSê°€ í¬í•¨ëœ ê²½ìš°)ë„ ìë™ìœ¼ë¡œ ì •ë ¬ë©ë‹ˆë‹¤. CSSì™€ JSëŠ” ê°œë³„ íƒ­ì—ì„œ í•´ë‹¹ ì–¸ì–´ì— ìµœì í™”ëœ ì •ë ¬ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div></div>
    </div>
    <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
      <div class="faq-q" onclick="toggleFaq(this)" itemprop="name">ì½”ë“œê°€ ì„œë²„ì— ì „ì†¡ë˜ë‚˜ìš”?</div>
      <div class="faq-a" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer"><div class="faq-a-inner" itemprop="text">ì•„ë‹ˆìš”. ëª¨ë“  ì½”ë“œ ì •ë ¬ì€ ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ì²˜ë¦¬ë©ë‹ˆë‹¤. ì…ë ¥í•œ ì½”ë“œê°€ ì™¸ë¶€ ì„œë²„ë¡œ ì „ì†¡ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¯¼ê°í•œ ì½”ë“œë„ ì•ˆì „í•˜ê²Œ ì •ë ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div></div>
    </div>
    <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
      <div class="faq-q" onclick="toggleFaq(this)" itemprop="name">ì½”ë“œ ê¸¸ì´ì— ì œí•œì´ ìˆë‚˜ìš”?</div>
      <div class="faq-a" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer"><div class="faq-a-inner" itemprop="text">ê¸¸ì´ ì œí•œì€ ì—†ìŠµë‹ˆë‹¤. ìˆ˜ì²œ ì¤„ì˜ ì½”ë“œë„ ì •ìƒì ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤. ë‹¤ë§Œ ë§¤ìš° ê¸´ ì½”ë“œì˜ ê²½ìš° ë¸Œë¼ìš°ì € ì„±ëŠ¥ì— ë”°ë¼ ì²˜ë¦¬ ì‹œê°„ì´ ë‹¤ì†Œ ê¸¸ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div></div>
    </div>
    <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
      <div class="faq-q" onclick="toggleFaq(this)" itemprop="name">ì••ì¶•(Minify)ëœ ì½”ë“œë„ ì •ë ¬í•  ìˆ˜ ìˆë‚˜ìš”?</div>
      <div class="faq-a" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer"><div class="faq-a-inner" itemprop="text">ë„¤. í•œ ì¤„ë¡œ ì••ì¶•ëœ ì½”ë“œë„ ì •ìƒì ìœ¼ë¡œ ì •ë ¬ë©ë‹ˆë‹¤. ë°˜ëŒ€ë¡œ ì •ë ¬ëœ ì½”ë“œë¥¼ ì••ì¶•(Minify)í•˜ëŠ” ê¸°ëŠ¥ë„ ì œê³µí•˜ë¯€ë¡œ ì–‘ë°©í–¥ ë³€í™˜ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</div></div>
    </div>
    <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
      <div class="faq-q" onclick="toggleFaq(this)" itemprop="name">ì›ë³¸ ì½”ë“œë¡œ ë˜ëŒë¦´ ìˆ˜ ìˆë‚˜ìš”?</div>
      <div class="faq-a" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer"><div class="faq-a-inner" itemprop="text">ë„¤. ë³€í™˜ í›„ 'ì›ë³¸' ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì •ë ¬í•˜ê¸° ì „ ì›ë³¸ ì½”ë“œë¡œ ì¦‰ì‹œ ë˜ëŒë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div></div>
    </div>
    <div class="faq-item" itemscope itemprop="mainEntity" itemtype="https://schema.org/Question">
      <div class="faq-q" onclick="toggleFaq(this)" itemprop="name">íŒŒì¼ì„ ì§ì ‘ ì—…ë¡œë“œí•  ìˆ˜ ìˆë‚˜ìš”?</div>
      <div class="faq-a" itemscope itemprop="acceptedAnswer" itemtype="https://schema.org/Answer"><div class="faq-a-inner" itemprop="text">ë„¤. íŒŒì¼ì„ ì—ë””í„° ì˜ì—­ì— ë“œë˜ê·¸ ì•¤ ë“œë¡­í•˜ê±°ë‚˜, ğŸ“‚ ë²„íŠ¼ì„ ëˆŒëŸ¬ íŒŒì¼ì„ ì—´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì •ë ¬ëœ ê²°ê³¼ëŠ” ğŸ’¾ ë²„íŠ¼ìœ¼ë¡œ íŒŒì¼ë¡œ ë‹¤ìš´ë¡œë“œí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.</div></div>
    </div>
  </section>

  <div class="ad-slot"><div class="ad-banner">ê´‘ê³  ì˜ì—­</div></div>
</main>

<div class="toast" id="toast" role="alert" aria-live="polite"></div>

<script>
const $ = (sel) => document.querySelector(sel);
const codeArea = $('#codeArea');
const indentSelect = $('#indentSelect');
const btnBeautify = $('#btnBeautify');
const btnMinify = $('#btnMinify');
const btnOriginal = $('#btnOriginal');
const btnCopy = $('#btnCopy');
const btnFile = $('#btnFile');
const btnDownload = $('#btnDownload');
const btnClear = $('#btnClear');
const fileInput = $('#fileInput');
const statusText = $('#statusText');
const statusBadge = $('#statusBadge');
const charCount = $('#charCount');
const toastEl = $('#toast');
const dragOverlay = $('#dragOverlay');

let currentLang = 'html';
let originalCode = '';

// === Language Tabs ===
document.querySelectorAll('.lang-tab').forEach(tab => {
  tab.addEventListener('click', () => {
    document.querySelectorAll('.lang-tab').forEach(t => { t.classList.remove('active'); t.setAttribute('aria-selected', 'false'); });
    tab.classList.add('active');
    tab.setAttribute('aria-selected', 'true');
    currentLang = tab.dataset.lang;
  });
});

// === Live char/line count ===
function updateCharCount() {
  const val = codeArea.value;
  const chars = val.length;
  const lines = val ? val.split('\n').length : 0;
  charCount.textContent = chars.toLocaleString() + 'ì Â· ' + lines.toLocaleString() + 'ì¤„';
}
codeArea.addEventListener('input', updateCharCount);
updateCharCount();

// === Tab key + shortcuts ===
codeArea.addEventListener('keydown', (e) => {
  if (e.key === 'Tab') {
    e.preventDefault();
    const start = codeArea.selectionStart;
    const end = codeArea.selectionEnd;
    const indent = indentSelect.value === 'tab' ? '\t' : ' '.repeat(parseInt(indentSelect.value));
    codeArea.value = codeArea.value.substring(0, start) + indent + codeArea.value.substring(end);
    codeArea.selectionStart = codeArea.selectionEnd = start + indent.length;
    updateCharCount();
  }
  if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
    e.preventDefault();
    doBeautify();
  }
});

// === Auto-detect language ===
function detectLang(code) {
  const trimmed = code.trim();
  // JSON
  if (/^\s*[\[{]/.test(trimmed)) {
    try { JSON.parse(trimmed); return 'json'; } catch(e) {}
  }
  // SQL keywords
  const sqlKeywords = /\b(SELECT|INSERT|UPDATE|DELETE|CREATE|ALTER|DROP|FROM|WHERE|JOIN|GROUP\s+BY|ORDER\s+BY)\b/i;
  if (sqlKeywords.test(trimmed) && !/<[a-z][\s\S]*>/i.test(trimmed)) return 'sql';
  // HTML
  if (/^\s*<!DOCTYPE|^\s*<html|^\s*<[a-z][^>]*>/i.test(trimmed)) return 'html';
  // CSS
  if (/^\s*(@import|@media|@font-face|[.#:][a-zA-Z][\w-]*\s*\{|[a-z-]+\s*:\s*[^;]+;)/i.test(trimmed)) return 'css';
  // JS fallback
  if (/\b(function|const|let|var|import|export|class|return|if|for|while)\b/.test(trimmed)) return 'js';
  return currentLang;
}

function syncTabTo(lang) {
  document.querySelectorAll('.lang-tab').forEach(t => { t.classList.remove('active'); t.setAttribute('aria-selected', 'false'); });
  const target = document.querySelector(`.lang-tab[data-lang="${lang}"]`);
  if (target) { target.classList.add('active'); target.setAttribute('aria-selected', 'true'); }
  currentLang = lang;
}

// === Indent config helper ===
function getIndentConfig() {
  const val = indentSelect.value;
  return {
    size: val === 'tab' ? 1 : parseInt(val),
    char: val === 'tab' ? '\t' : ' ',
    space: val === 'tab' ? '\t' : ' '.repeat(parseInt(val)),
    jsonSpace: val === 'tab' ? '\t' : parseInt(val)
  };
}

// === Beautify ===
function doBeautify() {
  const code = codeArea.value;
  if (!code.trim()) { setStatus('ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”', 'error'); return; }

  // Auto-detect on first beautify if user hasn't manually selected
  const detected = detectLang(code);
  if (detected !== currentLang) {
    syncTabTo(detected);
  }

  originalCode = code;
  btnOriginal.disabled = false;

  const ic = getIndentConfig();
  const t0 = performance.now();

  try {
    let result;

    switch (currentLang) {
      case 'html':
        result = html_beautify(code, {
          indent_size: ic.size, indent_char: ic.char,
          max_preserve_newlines: 2, preserve_newlines: true,
          indent_inner_html: true, end_with_newline: true,
          wrap_line_length: 0, indent_scripts: 'normal',
          css: { indent_size: ic.size, indent_char: ic.char },
          js: { indent_size: ic.size, indent_char: ic.char }
        });
        break;

      case 'css':
        result = css_beautify(code, {
          indent_size: ic.size, indent_char: ic.char,
          end_with_newline: true, newline_between_rules: true
        });
        break;

      case 'js':
        result = js_beautify(code, {
          indent_size: ic.size, indent_char: ic.char,
          end_with_newline: true, preserve_newlines: true,
          max_preserve_newlines: 2, space_after_anon_function: true,
          brace_style: 'collapse'
        });
        break;

      case 'sql':
        result = sqlFormatter.format(code, {
          indent: ic.space, uppercase: true, linesBetweenQueries: 2
        });
        break;

      case 'json':
        try {
          const parsed = JSON.parse(code);
          result = JSON.stringify(parsed, null, ic.jsonSpace);
        } catch (e) {
          // Show specific JSON error position
          const match = e.message.match(/position\s+(\d+)/i);
          if (match) {
            const pos = parseInt(match[1]);
            const before = code.substring(0, pos);
            const line = before.split('\n').length;
            const col = pos - before.lastIndexOf('\n');
            setStatus(`JSON ë¬¸ë²• ì˜¤ë¥˜: ${line}ì¤„ ${col}ì—´ ë¶€ê·¼ â€” ${e.message}`, 'error');
          } else {
            setStatus('JSON ë¬¸ë²• ì˜¤ë¥˜: ' + e.message, 'error');
          }
          return;
        }
        break;
    }

    const t1 = performance.now();
    const ms = Math.round(t1 - t0);
    const lines = result.split('\n').length;
    const bytes = new Blob([result]).size;

    codeArea.value = result;
    updateCharCount();
    setStatus(
      currentLang.toUpperCase() + ' ì •ë ¬ ì™„ë£Œ Â· ' +
      lines.toLocaleString() + 'ì¤„ Â· ' + formatBytes(bytes) + ' Â· ' + ms + 'ms',
      'success'
    );
  } catch (e) {
    setStatus('ì •ë ¬ ì‹¤íŒ¨: ' + e.message, 'error');
  }
}

btnBeautify.addEventListener('click', doBeautify);

// === Minify ===
function doMinify() {
  const code = codeArea.value;
  if (!code.trim()) { setStatus('ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”', 'error'); return; }

  const detected = detectLang(code);
  if (detected !== currentLang) syncTabTo(detected);

  originalCode = code;
  btnOriginal.disabled = false;

  const t0 = performance.now();

  try {
    let result;

    switch (currentLang) {
      case 'html':
        // Basic HTML minify: collapse whitespace, remove comments
        result = code
          .replace(/<!--[\s\S]*?-->/g, '')
          .replace(/\n\s*/g, '')
          .replace(/\s{2,}/g, ' ')
          .replace(/>\s+</g, '><')
          .trim();
        break;

      case 'css':
        result = code
          .replace(/\/\*[\s\S]*?\*\//g, '')
          .replace(/\s*([{}:;,>~+])\s*/g, '$1')
          .replace(/;\}/g, '}')
          .replace(/\s{2,}/g, ' ')
          .replace(/\n/g, '')
          .trim();
        break;

      case 'js':
        // Basic JS minify: remove comments, collapse whitespace
        result = code
          .replace(/\/\*[\s\S]*?\*\//g, '')
          .replace(/\/\/.*$/gm, '')
          .replace(/\n\s*/g, '')
          .replace(/\s{2,}/g, ' ')
          .trim();
        break;

      case 'sql':
        result = code
          .replace(/--.*$/gm, '')
          .replace(/\/\*[\s\S]*?\*\//g, '')
          .replace(/\s+/g, ' ')
          .trim();
        break;

      case 'json':
        try {
          result = JSON.stringify(JSON.parse(code));
        } catch (e) {
          setStatus('JSON ë¬¸ë²• ì˜¤ë¥˜: ' + e.message, 'error');
          return;
        }
        break;
    }

    const t1 = performance.now();
    const ms = Math.round(t1 - t0);
    const originalBytes = new Blob([code]).size;
    const resultBytes = new Blob([result]).size;
    const saved = originalBytes > 0 ? Math.round((1 - resultBytes / originalBytes) * 100) : 0;

    codeArea.value = result;
    updateCharCount();
    setStatus(
      currentLang.toUpperCase() + ' ì••ì¶• ì™„ë£Œ Â· ' +
      formatBytes(resultBytes) + ' (' + saved + '% ê°ì†Œ) Â· ' + ms + 'ms',
      'success'
    );
  } catch (e) {
    setStatus('ì••ì¶• ì‹¤íŒ¨: ' + e.message, 'error');
  }
}

btnMinify.addEventListener('click', doMinify);

// === Original (Undo) ===
btnOriginal.addEventListener('click', () => {
  if (!originalCode) return;
  codeArea.value = originalCode;
  btnOriginal.disabled = true;
  updateCharCount();
  setStatus('ì›ë³¸ ì½”ë“œë¡œ ë³µì›ë˜ì—ˆìŠµë‹ˆë‹¤', 'idle');
});

// === Copy ===
btnCopy.addEventListener('click', async () => {
  const text = codeArea.value;
  if (!text.trim()) { showToast('ë³µì‚¬í•  ì½”ë“œê°€ ì—†ìŠµë‹ˆë‹¤'); return; }
  try {
    await navigator.clipboard.writeText(text);
    showToast('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤ âœ“');
  } catch (e) {
    codeArea.select();
    document.execCommand('copy');
    showToast('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤ âœ“');
  }
});

// === File Open ===
btnFile.addEventListener('click', () => fileInput.click());

fileInput.addEventListener('change', (e) => {
  const file = e.target.files[0];
  if (!file) return;
  readFile(file);
  fileInput.value = '';
});

function readFile(file) {
  if (file.size > 5 * 1024 * 1024) {
    showToast('5MB ì´í•˜ íŒŒì¼ë§Œ ì§€ì›í•©ë‹ˆë‹¤');
    return;
  }
  const reader = new FileReader();
  reader.onload = (e) => {
    codeArea.value = e.target.result;
    updateCharCount();
    // Auto-detect and sync tab
    const ext = file.name.split('.').pop().toLowerCase();
    const extMap = { html: 'html', htm: 'html', css: 'css', js: 'js', jsx: 'js', ts: 'js', tsx: 'js', sql: 'sql', json: 'json', xml: 'html', svg: 'html', scss: 'css', less: 'css' };
    const lang = extMap[ext] || detectLang(e.target.result);
    syncTabTo(lang);
    setStatus(`ğŸ“„ ${file.name} (${formatBytes(file.size)}) ë¡œë“œ ì™„ë£Œ`, 'success');
  };
  reader.onerror = () => setStatus('íŒŒì¼ ì½ê¸° ì‹¤íŒ¨', 'error');
  reader.readAsText(file);
}

// === File Download ===
btnDownload.addEventListener('click', () => {
  const text = codeArea.value;
  if (!text.trim()) { showToast('ë‹¤ìš´ë¡œë“œí•  ì½”ë“œê°€ ì—†ìŠµë‹ˆë‹¤'); return; }
  const extMap = { html: 'html', css: 'css', js: 'js', sql: 'sql', json: 'json' };
  const ext = extMap[currentLang] || 'txt';
  const mimeMap = { html: 'text/html', css: 'text/css', js: 'text/javascript', sql: 'text/sql', json: 'application/json' };
  const mime = mimeMap[currentLang] || 'text/plain';
  const blob = new Blob([text], { type: mime + ';charset=utf-8' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = 'beautified.' + ext;
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
  URL.revokeObjectURL(url);
  showToast('íŒŒì¼ì´ ë‹¤ìš´ë¡œë“œë©ë‹ˆë‹¤ âœ“');
});

// === Drag & Drop ===
let dragCounter = 0;
const editorWrapper = document.querySelector('.editor-wrapper');

editorWrapper.addEventListener('dragenter', (e) => {
  e.preventDefault();
  dragCounter++;
  dragOverlay.classList.add('active');
});
editorWrapper.addEventListener('dragleave', (e) => {
  e.preventDefault();
  dragCounter--;
  if (dragCounter <= 0) { dragOverlay.classList.remove('active'); dragCounter = 0; }
});
editorWrapper.addEventListener('dragover', (e) => e.preventDefault());
editorWrapper.addEventListener('drop', (e) => {
  e.preventDefault();
  dragCounter = 0;
  dragOverlay.classList.remove('active');
  const file = e.dataTransfer.files[0];
  if (file) readFile(file);
});

// === Clear ===
btnClear.addEventListener('click', () => {
  codeArea.value = '';
  originalCode = '';
  btnOriginal.disabled = true;
  updateCharCount();
  setStatus('ì½”ë“œë¥¼ ì…ë ¥í•˜ê³  ë³€í™˜ ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”', 'idle');
});

// === Helpers ===
function setStatus(text, type) {
  statusText.textContent = text;
  statusBadge.className = 'status-badge ' + type;
  const labels = { success: 'ì™„ë£Œ', error: 'ì˜¤ë¥˜', idle: 'ëŒ€ê¸°' };
  statusBadge.textContent = labels[type] || 'ëŒ€ê¸°';
}

function showToast(msg) {
  toastEl.textContent = msg;
  toastEl.classList.add('show');
  clearTimeout(showToast._timer);
  showToast._timer = setTimeout(() => toastEl.classList.remove('show'), 2200);
}

function formatBytes(bytes) {
  if (bytes < 1024) return bytes + ' B';
  if (bytes < 1048576) return (bytes / 1024).toFixed(1) + ' KB';
  return (bytes / 1048576).toFixed(2) + ' MB';
}

function toggleFaq(el) { el.parentElement.classList.toggle('open'); }
</script>
</body>
</html>
