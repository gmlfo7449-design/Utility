<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WebP ë³€í™˜ê¸° â€“ PNG, JPG ì´ë¯¸ì§€ë¥¼ WebPë¡œ ë¬´ë£Œ ë³€í™˜</title>
<meta name="description" content="PNG, JPG, GIF, BMP ì´ë¯¸ì§€ë¥¼ WebP í¬ë§·ìœ¼ë¡œ ë¬´ë£Œ ë³€í™˜í•˜ì„¸ìš”. ì„¤ì¹˜ ì—†ì´ ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ ë³€í™˜ë˜ë©°, ì„œë²„ ì „ì†¡ ì—†ì´ 100% ë¡œì»¬ì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤.">
<meta name="keywords" content="WebP ë³€í™˜, PNG to WebP, JPG to WebP, ì´ë¯¸ì§€ ë³€í™˜, WebP ë³€í™˜ê¸°, ë¬´ë£Œ WebP ë³€í™˜">
<meta property="og:title" content="WebP ë³€í™˜ê¸° â€“ PNG, JPGë¥¼ WebPë¡œ ë¬´ë£Œ ë³€í™˜">
<meta property="og:description" content="PNG, JPG ì´ë¯¸ì§€ë¥¼ WebP í¬ë§·ìœ¼ë¡œ ë¬´ë£Œ ë³€í™˜í•˜ì„¸ìš”. ì„œë²„ ì „ì†¡ ì—†ì´ ë¸Œë¼ìš°ì €ì—ì„œ ë°”ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.">
<link rel="canonical" href="https://webtoolbox.kr/webp-converter/">
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
  :root {
    --bg: #f6f7f9; --surface: #ffffff; --border: #e4e6eb;
    --text: #1a1c20; --text-sub: #5f6368; --text-muted: #9aa0a8;
    --accent: #2563eb; --accent-hover: #1d4ed8; --accent-light: #eff4ff;
    --green: #16a34a; --green-light: #dcfce7;
    --red: #dc2626; --red-light: #fef2f2;
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.06);
    --shadow-md: 0 4px 12px rgba(0,0,0,0.06), 0 2px 4px rgba(0,0,0,0.04);
    --radius: 14px; --radius-sm: 10px;
  }
  body { font-family: 'Noto Sans KR', sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; -webkit-font-smoothing: antialiased; }

  .nav { background: rgba(255,255,255,0.92); border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 100; backdrop-filter: blur(12px); }
  .nav-inner { max-width: 960px; margin: 0 auto; padding: 0 24px; height: 60px; display: flex; align-items: center; gap: 10px; }
  .nav-logo { display: flex; align-items: center; gap: 10px; text-decoration: none; color: var(--text); }
  .nav-logo-icon { width: 34px; height: 34px; background: var(--accent); border-radius: 9px; display: flex; align-items: center; justify-content: center; color: #fff; font-weight: 700; font-family: 'Outfit', sans-serif; font-size: 16px; }
  .nav-logo-text { font-family: 'Outfit', sans-serif; font-weight: 700; font-size: 18px; }
  .nav-sep { color: var(--border); font-size: 20px; font-weight: 300; }
  .nav-page { font-size: 14px; color: var(--text-sub); font-weight: 500; }

  .container { max-width: 960px; margin: 0 auto; padding: 32px 24px 80px; }

  .page-header { text-align: center; margin-bottom: 32px; }
  .page-header h1 { font-family: 'Outfit', sans-serif; font-size: 32px; font-weight: 700; letter-spacing: -0.5px; margin-bottom: 10px; }
  .page-header p { font-size: 15px; color: var(--text-sub); max-width: 520px; margin: 0 auto; }

  .ad-slot { margin: 24px 0; }
  .ad-banner { background: var(--surface); border: 1px dashed var(--border); border-radius: var(--radius-sm); min-height: 90px; display: flex; align-items: center; justify-content: center; color: var(--text-muted); font-size: 13px; }

  /* ë“œë¡­ì¡´ */
  .dropzone {
    background: var(--surface); border: 2px dashed var(--border); border-radius: var(--radius);
    padding: 48px 32px; text-align: center; cursor: pointer; transition: all 0.2s;
    margin-bottom: 20px;
  }
  .dropzone:hover, .dropzone.dragover {
    border-color: var(--accent); background: var(--accent-light);
  }
  .dropzone-icon { font-size: 48px; margin-bottom: 12px; }
  .dropzone-text { font-size: 16px; font-weight: 600; color: var(--text); margin-bottom: 6px; }
  .dropzone-sub { font-size: 13px; color: var(--text-muted); }
  .dropzone-btn {
    display: inline-block; margin-top: 16px; padding: 10px 24px;
    background: var(--accent); color: #fff; border-radius: 8px;
    font-size: 14px; font-weight: 600; pointer-events: none;
  }

  /* ì„¤ì • */
  .settings {
    background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius);
    padding: 20px 24px; margin-bottom: 20px; display: flex; align-items: center;
    gap: 20px; flex-wrap: wrap; box-shadow: var(--shadow-sm);
  }
  .setting-group { display: flex; align-items: center; gap: 10px; }
  .setting-label { font-size: 13px; font-weight: 600; color: var(--text-sub); white-space: nowrap; }
  .quality-slider { width: 160px; accent-color: var(--accent); cursor: pointer; }
  .quality-value {
    font-family: 'JetBrains Mono', monospace; font-size: 14px; font-weight: 600;
    color: var(--accent); min-width: 38px; text-align: center;
  }

  /* ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ */
  .results { display: flex; flex-direction: column; gap: 12px; }
  .result-item {
    background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius);
    padding: 16px 20px; box-shadow: var(--shadow-sm);
    display: grid; grid-template-columns: 60px 1fr auto; gap: 16px; align-items: center;
  }
  .result-thumb {
    width: 60px; height: 60px; border-radius: 8px; object-fit: cover;
    background: var(--bg); border: 1px solid var(--border);
  }
  .result-info { min-width: 0; }
  .result-name { font-size: 14px; font-weight: 600; color: var(--text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; margin-bottom: 4px; }
  .result-meta { font-size: 12px; color: var(--text-muted); display: flex; gap: 12px; flex-wrap: wrap; align-items: center; }
  .result-meta span { white-space: nowrap; }
  .result-arrow { color: var(--text-muted); font-size: 14px; }
  .result-size-new { font-weight: 600; color: var(--text); }
  .result-saving { font-weight: 600; }
  .result-saving.good { color: var(--green); }
  .result-saving.bad { color: var(--red); }
  .result-actions { display: flex; gap: 8px; }
  .btn {
    padding: 8px 16px; border: none; border-radius: 8px; font-size: 13px;
    font-weight: 600; cursor: pointer; font-family: 'Noto Sans KR', sans-serif; transition: all 0.15s;
  }
  .btn-primary { background: var(--accent); color: #fff; }
  .btn-primary:hover { background: var(--accent-hover); }
  .btn-outline { background: var(--bg); color: var(--text-sub); border: 1px solid var(--border); }
  .btn-outline:hover { border-color: var(--accent); color: var(--accent); }
  .btn-green { background: var(--green); color: #fff; }
  .btn-green:hover { background: #15803d; }

  /* ì „ì²´ ë‹¤ìš´ë¡œë“œ ë°” */
  .batch-bar {
    background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius);
    padding: 16px 24px; margin-top: 16px; display: none; align-items: center;
    justify-content: space-between; box-shadow: var(--shadow-sm); flex-wrap: wrap; gap: 12px;
  }
  .batch-bar.show { display: flex; }
  .batch-info { font-size: 14px; font-weight: 500; color: var(--text-sub); }
  .batch-info strong { color: var(--text); }

  /* í”„ë¼ì´ë²„ì‹œ */
  .privacy {
    text-align: center; margin-top: 24px; padding: 14px;
    background: var(--green-light); border-radius: var(--radius-sm);
    font-size: 13px; color: var(--green); font-weight: 500;
  }

  /* ì§„í–‰ ìƒíƒœ */
  .progress-bar {
    width: 100%; height: 4px; background: var(--border); border-radius: 2px;
    margin-top: 6px; overflow: hidden; display: none;
  }
  .progress-bar.show { display: block; }
  .progress-fill {
    height: 100%; background: var(--accent); border-radius: 2px;
    transition: width 0.3s ease;
  }

  /* í† ìŠ¤íŠ¸ */
  .toast {
    position: fixed; bottom: 30px; left: 50%;
    transform: translateX(-50%) translateY(20px);
    background: var(--text); color: #fff; padding: 10px 20px;
    border-radius: 8px; font-size: 13px; font-weight: 500;
    opacity: 0; transition: all 0.3s; z-index: 999; pointer-events: none;
  }
  .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

  /* FAQ */
  .faq-section { margin-top: 48px; }
  .faq-section h2 { font-size: 20px; font-weight: 700; margin-bottom: 20px; }
  .faq-item { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius-sm); margin-bottom: 10px; overflow: hidden; }
  .faq-q { padding: 16px 20px; font-weight: 500; font-size: 15px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
  .faq-q::after { content: '+'; font-size: 20px; color: var(--text-muted); transition: transform 0.2s; }
  .faq-item.open .faq-q::after { transform: rotate(45deg); }
  .faq-a { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; }
  .faq-a-inner { padding: 0 20px 16px; color: var(--text-sub); font-size: 14px; line-height: 1.8; }
  .faq-item.open .faq-a { max-height: 300px; }

  @keyframes fadeUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  .fade-up { animation: fadeUp 0.3s ease forwards; }

  @media (max-width: 640px) {
    .page-header h1 { font-size: 24px; }
    .result-item { grid-template-columns: 48px 1fr; gap: 12px; }
    .result-thumb { width: 48px; height: 48px; }
    .result-actions { grid-column: 1 / -1; justify-content: flex-end; }
    .settings { flex-direction: column; align-items: flex-start; }
  }
</style>
</head>
<body>

<nav class="nav">
  <div class="nav-inner">
    <a href="/" class="nav-logo">
      <div class="nav-logo-icon">U</div>
      <span class="nav-logo-text">Utility</span>
    </a>
    <span class="nav-sep">/</span>
    <span class="nav-page">WebP ë³€í™˜ê¸°</span>
  </div>
</nav>

<div class="container">
  <div class="page-header">
    <h1>WebP ë³€í™˜ê¸°</h1>
    <p>PNG, JPG, GIF, BMP ì´ë¯¸ì§€ë¥¼ WebP í¬ë§·ìœ¼ë¡œ ë³€í™˜í•˜ì„¸ìš”. íŒŒì¼ í¬ê¸°ë¥¼ ì¤„ì´ë©´ì„œ í™”ì§ˆì„ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
  </div>

  <div class="ad-slot"><div class="ad-banner">ê´‘ê³  ì˜ì—­</div></div>

  <!-- ë“œë¡­ì¡´ -->
  <div class="dropzone" id="dropzone">
    <div class="dropzone-icon">ğŸ–¼ï¸</div>
    <div class="dropzone-text">ì´ë¯¸ì§€ë¥¼ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì„ íƒ</div>
    <div class="dropzone-sub">PNG, JPG, GIF, BMP ì§€ì› Â· ì—¬ëŸ¬ íŒŒì¼ ë™ì‹œ ë³€í™˜ ê°€ëŠ¥</div>
    <div class="dropzone-btn">íŒŒì¼ ì„ íƒ</div>
    <input type="file" id="fileInput" accept="image/png,image/jpeg,image/gif,image/bmp,image/webp" multiple hidden>
  </div>

  <!-- í’ˆì§ˆ ì„¤ì • -->
  <div class="settings">
    <div class="setting-group">
      <span class="setting-label">ë³€í™˜ í’ˆì§ˆ</span>
      <input type="range" class="quality-slider" id="qualitySlider" min="1" max="100" value="80">
      <span class="quality-value" id="qualityValue">80%</span>
    </div>
    <div class="setting-group">
      <span class="setting-label" style="font-size:12px; color:var(--text-muted);">ë‚®ì„ìˆ˜ë¡ íŒŒì¼ í¬ê¸° ì‘ìŒ Â· ë†’ì„ìˆ˜ë¡ í™”ì§ˆ ì¢‹ìŒ</span>
    </div>
  </div>

  <!-- ì§„í–‰ë°” -->
  <div class="progress-bar" id="progressBar">
    <div class="progress-fill" id="progressFill" style="width:0%"></div>
  </div>

  <!-- ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ -->
  <div class="results" id="results"></div>

  <!-- ì „ì²´ ë‹¤ìš´ë¡œë“œ -->
  <div class="batch-bar" id="batchBar">
    <div class="batch-info" id="batchInfo"></div>
    <button class="btn btn-green" id="btnDownloadAll">ì „ì²´ ë‹¤ìš´ë¡œë“œ</button>
  </div>

  <div class="privacy">ğŸ”’ ì„œë²„ ì „ì†¡ ì—†ìŒ â€“ ëª¨ë“  ë³€í™˜ì€ 100% ë¸Œë¼ìš°ì €ì—ì„œ ì²˜ë¦¬ë©ë‹ˆë‹¤</div>

  <div class="ad-slot"><div class="ad-banner">ê´‘ê³  ì˜ì—­</div></div>

  <div class="faq-section">
    <h2>ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)</h2>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">WebP í¬ë§·ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?</div>
      <div class="faq-a"><div class="faq-a-inner">WebPëŠ” êµ¬ê¸€ì´ ê°œë°œí•œ ì´ë¯¸ì§€ í¬ë§·ìœ¼ë¡œ, JPGì™€ PNG ëŒ€ë¹„ 25~35% ë” ì‘ì€ íŒŒì¼ í¬ê¸°ë¥¼ ì œê³µí•˜ë©´ì„œë„ ë¹„ìŠ·í•œ í™”ì§ˆì„ ìœ ì§€í•©ë‹ˆë‹¤. í˜„ì¬ Chrome, Firefox, Safari, Edge ë“± ëŒ€ë¶€ë¶„ì˜ ë¸Œë¼ìš°ì €ì—ì„œ ì§€ì›ë©ë‹ˆë‹¤.</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">ë³€í™˜í•˜ë©´ í™”ì§ˆì´ ë–¨ì–´ì§€ë‚˜ìš”?</div>
      <div class="faq-a"><div class="faq-a-inner">í’ˆì§ˆ ì„¤ì •ì— ë”°ë¼ ë‹¤ë¦…ë‹ˆë‹¤. 80% ì´ìƒìœ¼ë¡œ ì„¤ì •í•˜ë©´ ìœ¡ì•ˆìœ¼ë¡œ ê±°ì˜ ì°¨ì´ë¥¼ ëŠë¼ê¸° ì–´ë µìŠµë‹ˆë‹¤. í’ˆì§ˆì„ ë‚®ì¶œìˆ˜ë¡ íŒŒì¼ í¬ê¸°ëŠ” ì¤„ì§€ë§Œ í™”ì§ˆ ì €í•˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">ì™œ WebPë¡œ ë³€í™˜í•´ì•¼ í•˜ë‚˜ìš”?</div>
      <div class="faq-a"><div class="faq-a-inner">ì›¹ì‚¬ì´íŠ¸ ì†ë„ ìµœì í™”ì— íš¨ê³¼ì ì…ë‹ˆë‹¤. ì´ë¯¸ì§€ íŒŒì¼ í¬ê¸°ê°€ ì¤„ì–´ë“¤ë©´ í˜ì´ì§€ ë¡œë”© ì†ë„ê°€ ë¹¨ë¼ì§€ê³ , ì´ëŠ” ì‚¬ìš©ì ê²½í—˜ê³¼ SEO(ê²€ìƒ‰ì—”ì§„ ìµœì í™”) ëª¨ë‘ì— ê¸ì •ì ì¸ ì˜í–¥ì„ ì¤ë‹ˆë‹¤. êµ¬ê¸€ë„ WebP ì‚¬ìš©ì„ ê¶Œì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">íˆ¬ëª… ë°°ê²½(ì•ŒíŒŒ ì±„ë„)ë„ ìœ ì§€ë˜ë‚˜ìš”?</div>
      <div class="faq-a"><div class="faq-a-inner">ë„¤. WebPëŠ” PNGì²˜ëŸ¼ íˆ¬ëª… ë°°ê²½ì„ ì§€ì›í•©ë‹ˆë‹¤. PNG ì´ë¯¸ì§€ì˜ íˆ¬ëª…ë„ê°€ WebP ë³€í™˜ í›„ì—ë„ ê·¸ëŒ€ë¡œ ìœ ì§€ë©ë‹ˆë‹¤.</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">ë³€í™˜ëœ íŒŒì¼ì€ ì„œë²„ì— ì €ì¥ë˜ë‚˜ìš”?</div>
      <div class="faq-a"><div class="faq-a-inner">ì•„ë‹ˆìš”. ëª¨ë“  ë³€í™˜ ê³¼ì •ì€ ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì €ì—ì„œë§Œ ì´ë£¨ì–´ì§€ë©°, ì´ë¯¸ì§€ê°€ ì™¸ë¶€ ì„œë²„ë¡œ ì „ì†¡ë˜ê±°ë‚˜ ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì™„ì „íˆ ì•ˆì „í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div></div>
    </div>
  </div>

  <div class="ad-slot"><div class="ad-banner">ê´‘ê³  ì˜ì—­</div></div>
</div>

<div class="toast" id="toast"></div>

<script>
const dropzone = document.getElementById('dropzone');
const fileInput = document.getElementById('fileInput');
const qualitySlider = document.getElementById('qualitySlider');
const qualityValue = document.getElementById('qualityValue');
const resultsEl = document.getElementById('results');
const progressBar = document.getElementById('progressBar');
const progressFill = document.getElementById('progressFill');
const batchBar = document.getElementById('batchBar');
const batchInfo = document.getElementById('batchInfo');
const btnDownloadAll = document.getElementById('btnDownloadAll');
const toastEl = document.getElementById('toast');

let convertedFiles = [];

// í’ˆì§ˆ ìŠ¬ë¼ì´ë”
qualitySlider.addEventListener('input', () => {
  qualityValue.textContent = qualitySlider.value + '%';
});

// ë“œë¡­ì¡´
dropzone.addEventListener('click', () => fileInput.click());
dropzone.addEventListener('dragover', (e) => { e.preventDefault(); dropzone.classList.add('dragover'); });
dropzone.addEventListener('dragleave', () => dropzone.classList.remove('dragover'));
dropzone.addEventListener('drop', (e) => {
  e.preventDefault();
  dropzone.classList.remove('dragover');
  const files = Array.from(e.dataTransfer.files).filter(f => f.type.startsWith('image/'));
  if (files.length) processFiles(files);
});
fileInput.addEventListener('change', () => {
  if (fileInput.files.length) processFiles(Array.from(fileInput.files));
  fileInput.value = '';
});

async function processFiles(files) {
  const quality = qualitySlider.value / 100;

  progressBar.classList.add('show');
  progressFill.style.width = '0%';

  for (let i = 0; i < files.length; i++) {
    progressFill.style.width = ((i / files.length) * 100) + '%';
    await convertToWebP(files[i], quality);
  }

  progressFill.style.width = '100%';
  setTimeout(() => {
    progressBar.classList.remove('show');
  }, 500);

  updateBatchBar();
}

function convertToWebP(file, quality) {
  return new Promise((resolve) => {
    const img = new Image();
    const url = URL.createObjectURL(file);

    img.onload = () => {
      const canvas = document.createElement('canvas');
      canvas.width = img.naturalWidth;
      canvas.height = img.naturalHeight;
      const ctx = canvas.getContext('2d');
      ctx.drawImage(img, 0, 0);

      canvas.toBlob((blob) => {
        URL.revokeObjectURL(url);

        if (!blob) {
          resolve();
          return;
        }

        const originalName = file.name.replace(/\.[^.]+$/, '');
        const webpFile = {
          name: originalName + '.webp',
          originalName: file.name,
          originalSize: file.size,
          webpSize: blob.size,
          blob: blob,
          thumbUrl: URL.createObjectURL(blob),
          width: img.naturalWidth,
          height: img.naturalHeight,
        };

        convertedFiles.push(webpFile);
        addResultItem(webpFile);
        resolve();
      }, 'image/webp', quality);
    };

    img.onerror = () => {
      URL.revokeObjectURL(url);
      resolve();
    };

    img.src = url;
  });
}

function addResultItem(f) {
  const saving = ((1 - f.webpSize / f.originalSize) * 100);
  const isGood = saving > 0;

  const item = document.createElement('div');
  item.className = 'result-item fade-up';
  item.innerHTML = `
    <img class="result-thumb" src="${f.thumbUrl}" alt="${f.name}">
    <div class="result-info">
      <div class="result-name">${f.name}</div>
      <div class="result-meta">
        <span>${formatSize(f.originalSize)}</span>
        <span class="result-arrow">â†’</span>
        <span class="result-size-new">${formatSize(f.webpSize)}</span>
        <span class="result-saving ${isGood ? 'good' : 'bad'}">
          ${isGood ? 'â–¼' : 'â–²'} ${Math.abs(saving).toFixed(1)}%
        </span>
        <span>${f.width}Ã—${f.height}</span>
      </div>
    </div>
    <div class="result-actions">
      <button class="btn btn-primary" onclick="downloadFile('${convertedFiles.length - 1}')">ë‹¤ìš´ë¡œë“œ</button>
    </div>
  `;
  resultsEl.appendChild(item);
}

function downloadFile(index) {
  const f = convertedFiles[index];
  const a = document.createElement('a');
  a.href = URL.createObjectURL(f.blob);
  a.download = f.name;
  a.click();
  URL.revokeObjectURL(a.href);
}

function updateBatchBar() {
  if (convertedFiles.length < 2) {
    batchBar.classList.remove('show');
    return;
  }
  const totalOriginal = convertedFiles.reduce((s, f) => s + f.originalSize, 0);
  const totalWebp = convertedFiles.reduce((s, f) => s + f.webpSize, 0);
  const totalSaving = ((1 - totalWebp / totalOriginal) * 100).toFixed(1);

  batchInfo.innerHTML = `<strong>${convertedFiles.length}ê°œ íŒŒì¼</strong> Â· ì›ë³¸ ${formatSize(totalOriginal)} â†’ WebP ${formatSize(totalWebp)} (${totalSaving}% ì ˆê°)`;
  batchBar.classList.add('show');
}

btnDownloadAll.addEventListener('click', () => {
  convertedFiles.forEach((f, i) => {
    setTimeout(() => downloadFile(i), i * 200);
  });
  showToast(`${convertedFiles.length}ê°œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì‹œì‘`);
});

function formatSize(bytes) {
  if (bytes < 1024) return bytes + ' B';
  if (bytes < 1024 * 1024) return (bytes / 1024).toFixed(1) + ' KB';
  return (bytes / (1024 * 1024)).toFixed(2) + ' MB';
}

function showToast(msg) {
  toastEl.textContent = msg;
  toastEl.classList.add('show');
  setTimeout(() => toastEl.classList.remove('show'), 2000);
}

function toggleFaq(el) { el.parentElement.classList.toggle('open'); }
</script>
</body>
</html>
