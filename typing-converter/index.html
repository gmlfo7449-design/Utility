<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>í•œì˜ íƒ€ì ë³€í™˜ê¸° â€“ ì˜íƒ€ë¥¼ í•œê¸€ë¡œ, í•œíƒ€ë¥¼ ì˜ì–´ë¡œ ìë™ ë³€í™˜</title>
<meta name="description" content="í•œì˜ íƒ€ì ë³€í™˜ê¸°ë¡œ ì˜ëª» ì…ë ¥í•œ í…ìŠ¤íŠ¸ë¥¼ ì¦‰ì‹œ ë³€í™˜í•˜ì„¸ìš”. ì˜íƒ€ â†’ í•œê¸€, í•œíƒ€ â†’ ì˜ì–´ ë³€í™˜ì„ ì§€ì›í•©ë‹ˆë‹¤. dkssud â†’ ì•ˆë…•, ã…—ë””ã…£ã… â†’ hello">
<meta name="keywords" content="í•œì˜ íƒ€ì ë³€í™˜, ì˜íƒ€ í•œê¸€ ë³€í™˜, í•œíƒ€ ì˜ì–´ ë³€í™˜, í•œì˜ ë³€í™˜ê¸°, íƒ€ì ë³€í™˜, í•œì˜ì „í™˜">
<meta property="og:title" content="í•œì˜ íƒ€ì ë³€í™˜ê¸° â€“ ì˜íƒ€â†”í•œê¸€ ìë™ ë³€í™˜">
<meta property="og:description" content="ì˜ëª» ì…ë ¥í•œ í…ìŠ¤íŠ¸ë¥¼ ì¦‰ì‹œ ë³€í™˜í•©ë‹ˆë‹¤. dkssud â†’ ì•ˆë…•, ã…—ë””ã…£ã… â†’ hello">
<link rel="canonical" href="https://webtoolbox.kr/typing-converter/">
<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
  :root {
    --bg: #f6f7f9; --surface: #ffffff; --border: #e4e6eb;
    --text: #1a1c20; --text-sub: #5f6368; --text-muted: #9aa0a8;
    --accent: #2563eb; --accent-hover: #1d4ed8; --accent-light: #eff4ff;
    --green: #16a34a; --green-light: #dcfce7;
    --shadow-sm: 0 1px 3px rgba(0,0,0,0.04), 0 1px 2px rgba(0,0,0,0.06);
    --shadow-md: 0 4px 12px rgba(0,0,0,0.06), 0 2px 4px rgba(0,0,0,0.04);
    --radius: 14px; --radius-sm: 10px;
  }
  body { font-family: 'Noto Sans KR', sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; -webkit-font-smoothing: antialiased; }

  .nav { background: rgba(255,255,255,0.92); border-bottom: 1px solid var(--border); position: sticky; top: 0; z-index: 100; backdrop-filter: blur(12px); }
  .nav-inner { max-width: 960px; margin: 0 auto; padding: 0 24px; height: 60px; display: flex; align-items: center; gap: 10px; }
  .nav-logo { display: flex; align-items: center; gap: 10px; text-decoration: none; color: var(--text); }
  .nav-logo-icon { width: 34px; height: 34px; background: var(--accent); border-radius: 9px; display: flex; align-items: center; justify-content: center; color: #fff; font-weight: 700; font-family: 'Outfit', sans-serif; font-size: 16px; }
  .nav-logo-text { font-family: 'Outfit', sans-serif; font-weight: 700; font-size: 18px; }
  .nav-sep { color: var(--border); font-size: 20px; font-weight: 300; }
  .nav-page { font-size: 14px; color: var(--text-sub); font-weight: 500; }

  .container { max-width: 960px; margin: 0 auto; padding: 32px 24px 80px; }

  .page-header { text-align: center; margin-bottom: 32px; }
  .page-header h1 { font-family: 'Outfit', sans-serif; font-size: 32px; font-weight: 700; letter-spacing: -0.5px; margin-bottom: 10px; }
  .page-header p { font-size: 15px; color: var(--text-sub); max-width: 520px; margin: 0 auto; }

  .ad-slot { margin: 24px 0; }
  .ad-banner { background: var(--surface); border: 1px dashed var(--border); border-radius: var(--radius-sm); min-height: 90px; display: flex; align-items: center; justify-content: center; color: var(--text-muted); font-size: 13px; }

  /* ë³€í™˜ ì˜ì—­ */
  .converter {
    display: grid; grid-template-columns: 1fr auto 1fr;
    gap: 0; margin-bottom: 20px; align-items: stretch;
  }
  .conv-panel {
    background: var(--surface); border: 1px solid var(--border);
    border-radius: var(--radius); box-shadow: var(--shadow-md); overflow: hidden;
    display: flex; flex-direction: column;
  }
  .conv-header {
    padding: 14px 18px; border-bottom: 1px solid var(--border);
    display: flex; align-items: center; justify-content: space-between;
    background: var(--bg);
  }
  .conv-title { font-size: 14px; font-weight: 700; color: var(--text); }
  .conv-hint { font-size: 12px; color: var(--text-muted); }
  .conv-textarea {
    width: 100%; min-height: 220px; padding: 18px;
    border: none; outline: none; resize: vertical;
    font-family: 'Noto Sans KR', sans-serif; font-size: 16px;
    line-height: 1.8; color: var(--text); background: var(--surface); flex: 1;
  }
  .conv-textarea::placeholder { color: var(--text-muted); }
  .conv-footer {
    padding: 10px 18px; border-top: 1px solid var(--border);
    display: flex; align-items: center; justify-content: space-between;
    background: var(--bg);
  }
  .conv-charcount { font-size: 12px; color: var(--text-muted); font-family: 'JetBrains Mono', monospace; }

  /* ê°€ìš´ë° í™”ì‚´í‘œ */
  .conv-middle {
    display: flex; flex-direction: column; align-items: center;
    justify-content: center; gap: 8px; padding: 0 12px;
  }
  .btn-swap {
    width: 44px; height: 44px; border-radius: 50%;
    background: var(--accent); color: #fff; border: none;
    font-size: 20px; cursor: pointer; transition: all 0.15s;
    display: flex; align-items: center; justify-content: center;
  }
  .btn-swap:hover { background: var(--accent-hover); transform: scale(1.08); }

  .btn {
    padding: 7px 14px; border: none; border-radius: 7px; font-size: 13px;
    font-weight: 600; cursor: pointer; font-family: 'Noto Sans KR', sans-serif;
    transition: all 0.15s;
  }
  .btn-outline { background: var(--surface); color: var(--text-sub); border: 1px solid var(--border); }
  .btn-outline:hover { border-color: var(--accent); color: var(--accent); }
  .btn-primary { background: var(--accent); color: #fff; }
  .btn-primary:hover { background: var(--accent-hover); }

  /* ì˜ˆì‹œ */
  .examples {
    background: var(--surface); border: 1px solid var(--border);
    border-radius: var(--radius); padding: 20px 24px;
    margin-bottom: 20px; box-shadow: var(--shadow-sm);
  }
  .examples-title { font-size: 14px; font-weight: 700; margin-bottom: 14px; color: var(--text); }
  .example-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
  .example-item {
    padding: 12px 16px; background: var(--bg); border-radius: 8px;
    cursor: pointer; transition: all 0.15s; border: 1px solid transparent;
  }
  .example-item:hover { border-color: var(--accent); background: var(--accent-light); }
  .example-from { font-family: 'JetBrains Mono', monospace; font-size: 14px; font-weight: 600; color: var(--accent); margin-bottom: 2px; }
  .example-to { font-size: 13px; color: var(--text-sub); }
  .example-arrow { color: var(--text-muted); font-size: 12px; }

  .privacy {
    text-align: center; margin-top: 24px; padding: 14px;
    background: var(--green-light); border-radius: var(--radius-sm);
    font-size: 13px; color: var(--green); font-weight: 500;
  }

  .toast {
    position: fixed; bottom: 30px; left: 50%;
    transform: translateX(-50%) translateY(20px);
    background: var(--text); color: #fff; padding: 10px 20px;
    border-radius: 8px; font-size: 13px; font-weight: 500;
    opacity: 0; transition: all 0.3s; z-index: 999; pointer-events: none;
  }
  .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

  .faq-section { margin-top: 48px; }
  .faq-section h2 { font-size: 20px; font-weight: 700; margin-bottom: 20px; }
  .faq-item { background: var(--surface); border: 1px solid var(--border); border-radius: var(--radius-sm); margin-bottom: 10px; overflow: hidden; }
  .faq-q { padding: 16px 20px; font-weight: 500; font-size: 15px; cursor: pointer; display: flex; justify-content: space-between; align-items: center; }
  .faq-q::after { content: '+'; font-size: 20px; color: var(--text-muted); transition: transform 0.2s; }
  .faq-item.open .faq-q::after { transform: rotate(45deg); }
  .faq-a { max-height: 0; overflow: hidden; transition: max-height 0.3s ease; }
  .faq-a-inner { padding: 0 20px 16px; color: var(--text-sub); font-size: 14px; line-height: 1.8; }
  .faq-item.open .faq-a { max-height: 300px; }

  @media (max-width: 700px) {
    .converter { grid-template-columns: 1fr; }
    .conv-middle { flex-direction: row; padding: 12px 0; }
    .btn-swap { transform: rotate(90deg); }
    .example-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<nav class="nav">
  <div class="nav-inner">
    <a href="/" class="nav-logo">
      <div class="nav-logo-icon">U</div>
      <span class="nav-logo-text">Utility</span>
    </a>
    <span class="nav-sep">/</span>
    <span class="nav-page">í•œì˜ íƒ€ì ë³€í™˜ê¸°</span>
  </div>
</nav>

<div class="container">
  <div class="page-header">
    <h1>í•œì˜ íƒ€ì ë³€í™˜ê¸°</h1>
    <p>í•œì˜í‚¤ë¥¼ ì•ˆ ëˆ„ë¥´ê³  ì˜ëª» ì…ë ¥í•œ í…ìŠ¤íŠ¸ë¥¼ ì¦‰ì‹œ ë³€í™˜í•©ë‹ˆë‹¤. ì‹¤ì‹œê°„ ìë™ ë³€í™˜ë©ë‹ˆë‹¤.</p>
  </div>

  <div class="ad-slot"><div class="ad-banner">ê´‘ê³  ì˜ì—­</div></div>

  <div class="converter">
    <!-- ì…ë ¥ -->
    <div class="conv-panel">
      <div class="conv-header">
        <span class="conv-title" id="inputLabel">ì…ë ¥ (ì˜íƒ€ â†’ í•œê¸€)</span>
        <span class="conv-hint">ì‹¤ì‹œê°„ ë³€í™˜</span>
      </div>
      <textarea class="conv-textarea" id="inputText" placeholder="ì—¬ê¸°ì— í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”... ì˜ˆ: dkssudgktpdy"></textarea>
      <div class="conv-footer">
        <span class="conv-charcount" id="inputCount">0ì</span>
        <button class="btn btn-outline" id="btnClearInput">ì‚­ì œ</button>
      </div>
    </div>

    <!-- ê°€ìš´ë° -->
    <div class="conv-middle">
      <button class="btn-swap" id="btnSwap" title="ë³€í™˜ ë°©í–¥ ë°”ê¾¸ê¸°">â‡„</button>
    </div>

    <!-- ê²°ê³¼ -->
    <div class="conv-panel">
      <div class="conv-header">
        <span class="conv-title" id="outputLabel">ê²°ê³¼ (í•œê¸€)</span>
      </div>
      <textarea class="conv-textarea" id="outputText" placeholder="ë³€í™˜ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤..." readonly></textarea>
      <div class="conv-footer">
        <span class="conv-charcount" id="outputCount">0ì</span>
        <button class="btn btn-primary" id="btnCopy">ë³µì‚¬</button>
      </div>
    </div>
  </div>

  <!-- ì˜ˆì‹œ -->
  <div class="examples">
    <div class="examples-title">ë³€í™˜ ì˜ˆì‹œ (í´ë¦­í•˜ë©´ ë°”ë¡œ ë³€í™˜)</div>
    <div class="example-grid" id="exampleGrid"></div>
  </div>

  <div class="privacy">ğŸ”’ ì…ë ¥í•œ í…ìŠ¤íŠ¸ëŠ” ì„œë²„ë¡œ ì „ì†¡ë˜ì§€ ì•Šìœ¼ë©°, ë¸Œë¼ìš°ì €ì—ì„œë§Œ ì²˜ë¦¬ë©ë‹ˆë‹¤</div>

  <div class="ad-slot"><div class="ad-banner">ê´‘ê³  ì˜ì—­</div></div>

  <div class="faq-section">
    <h2>ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)</h2>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">í•œì˜ íƒ€ì ë³€í™˜ì´ë€ ë¬´ì—‡ì¸ê°€ìš”?</div>
      <div class="faq-a"><div class="faq-a-inner">í•œì˜í‚¤ë¥¼ ëˆ„ë¥´ì§€ ì•Šê³  ì˜ëª»ëœ ì–¸ì–´ ëª¨ë“œì—ì„œ íƒ€ì´í•‘í•œ í…ìŠ¤íŠ¸ë¥¼ ì˜¬ë°”ë¥¸ ì–¸ì–´ë¡œ ë³€í™˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì˜ì–´ ëª¨ë“œì—ì„œ "dkssud"ë¥¼ ì…ë ¥í–ˆë‹¤ë©´ ì‹¤ì œë¡œëŠ” "ì•ˆë…•"ì„ ì¹˜ë ¤ë˜ ê²ƒì´ë¯€ë¡œ í•œê¸€ë¡œ ë³€í™˜í•´ì¤ë‹ˆë‹¤.</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">ì˜íƒ€ â†’ í•œê¸€, í•œíƒ€ â†’ ì˜ì–´ ë‘˜ ë‹¤ ë˜ë‚˜ìš”?</div>
      <div class="faq-a"><div class="faq-a-inner">ë„¤. ì–‘ë°©í–¥ ë³€í™˜ì„ ëª¨ë‘ ì§€ì›í•©ë‹ˆë‹¤. ê°€ìš´ë° í™”ì‚´í‘œ ë²„íŠ¼ì„ ëˆŒëŸ¬ ë³€í™˜ ë°©í–¥ì„ ë°”ê¿€ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ì–´ë¡œ ì…ë ¥ëœ í…ìŠ¤íŠ¸ë¥¼ í•œê¸€ë¡œ, í•œê¸€ë¡œ ì…ë ¥ëœ í…ìŠ¤íŠ¸ë¥¼ ì˜ì–´ë¡œ ë³€í™˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">ìŒììŒì´ë‚˜ ë³µí•© ëª¨ìŒë„ ë³€í™˜ë˜ë‚˜ìš”?</div>
      <div class="faq-a"><div class="faq-a-inner">ë„¤. ã„², ã„¸, ã…ƒ, ã…†, ã…‰ ê°™ì€ ìŒììŒê³¼ ã…˜, ã…™, ã…š, ã…, ã…, ã…Ÿ, ã…¢ ê°™ì€ ë³µí•© ëª¨ìŒ, ê·¸ë¦¬ê³  ã„³, ã„µ, ã„¶ ê°™ì€ ê²¹ë°›ì¹¨ê¹Œì§€ ëª¨ë‘ ì •í™•í•˜ê²Œ ë³€í™˜ë©ë‹ˆë‹¤.</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">ì–´ë–¤ í‚¤ë³´ë“œ ë°°ì—´ ê¸°ì¤€ì¸ê°€ìš”?</div>
      <div class="faq-a"><div class="faq-a-inner">í•œêµ­ì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” ë‘ë²Œì‹(2ë²Œì‹) í‚¤ë³´ë“œ ë°°ì—´ì„ ê¸°ì¤€ìœ¼ë¡œ í•©ë‹ˆë‹¤. ì„¸ë²Œì‹ í‚¤ë³´ë“œëŠ” í˜„ì¬ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</div></div>
    </div>
    <div class="faq-item">
      <div class="faq-q" onclick="toggleFaq(this)">íŠ¹ìˆ˜ë¬¸ìë‚˜ ìˆ«ìëŠ” ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ë‚˜ìš”?</div>
      <div class="faq-a"><div class="faq-a-inner">ìˆ«ì, íŠ¹ìˆ˜ë¬¸ì, êµ¬ë‘ì  ë“± í•œì˜ ë³€í™˜ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” ë¬¸ìëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ë©ë‹ˆë‹¤. ê³µë°±ê³¼ ì¤„ë°”ê¿ˆë„ ì›ë˜ ìƒíƒœë¥¼ ìœ ì§€í•©ë‹ˆë‹¤.</div></div>
    </div>
  </div>

  <div class="ad-slot"><div class="ad-banner">ê´‘ê³  ì˜ì—­</div></div>
</div>

<div class="toast" id="toast"></div>

<script>
// ===== í•œì˜ ë³€í™˜ ì—”ì§„ =====

// ì˜ë¬¸ â†’ í•œê¸€ ìëª¨ ë§¤í•‘ (ë‘ë²Œì‹)
const ENG_TO_KOR = {
  'q':'ã…‚','w':'ã…ˆ','e':'ã„·','r':'ã„±','t':'ã……','y':'ã…›','u':'ã…•','i':'ã…‘','o':'ã…','p':'ã…”',
  'a':'ã…','s':'ã„´','d':'ã…‡','f':'ã„¹','g':'ã…','h':'ã…—','j':'ã…“','k':'ã…','l':'ã…£',
  'z':'ã…‹','x':'ã…Œ','c':'ã…Š','v':'ã…','b':'ã… ','n':'ã…œ','m':'ã…¡',
  'Q':'ã…ƒ','W':'ã…‰','E':'ã„¸','R':'ã„²','T':'ã…†','Y':'ã…›','U':'ã…•','I':'ã…‘','O':'ã…’','P':'ã…–',
  'A':'ã…','S':'ã„´','D':'ã…‡','F':'ã„¹','G':'ã…','H':'ã…—','J':'ã…“','K':'ã…','L':'ã…£',
  'Z':'ã…‹','X':'ã…Œ','C':'ã…Š','V':'ã…','B':'ã… ','N':'ã…œ','M':'ã…¡'
};

// í•œê¸€ ìëª¨ â†’ ì˜ë¬¸ ë§¤í•‘
const KOR_TO_ENG = {};
// ê¸°ë³¸ ë§¤í•‘ (ì†Œë¬¸ì ìš°ì„ )
const basicMap = {
  'ã…‚':'q','ã…ˆ':'w','ã„·':'e','ã„±':'r','ã……':'t','ã…›':'y','ã…•':'u','ã…‘':'i','ã…':'o','ã…”':'p',
  'ã…':'a','ã„´':'s','ã…‡':'d','ã„¹':'f','ã…':'g','ã…—':'h','ã…“':'j','ã…':'k','ã…£':'l',
  'ã…‹':'z','ã…Œ':'x','ã…Š':'c','ã…':'v','ã… ':'b','ã…œ':'n','ã…¡':'m',
  'ã…ƒ':'Q','ã…‰':'W','ã„¸':'E','ã„²':'R','ã…†':'T','ã…’':'O','ã…–':'P'
};
Object.assign(KOR_TO_ENG, basicMap);

// ì´ˆì„± ë¦¬ìŠ¤íŠ¸
const CHO = ['ã„±','ã„²','ã„´','ã„·','ã„¸','ã„¹','ã…','ã…‚','ã…ƒ','ã……','ã…†','ã…‡','ã…ˆ','ã…‰','ã…Š','ã…‹','ã…Œ','ã…','ã…'];
// ì¤‘ì„± ë¦¬ìŠ¤íŠ¸
const JUNG = ['ã…','ã…','ã…‘','ã…’','ã…“','ã…”','ã…•','ã…–','ã…—','ã…˜','ã…™','ã…š','ã…›','ã…œ','ã…','ã…','ã…Ÿ','ã… ','ã…¡','ã…¢','ã…£'];
// ì¢…ì„± ë¦¬ìŠ¤íŠ¸
const JONG = ['','ã„±','ã„²','ã„³','ã„´','ã„µ','ã„¶','ã„·','ã„¹','ã„º','ã„»','ã„¼','ã„½','ã„¾','ã„¿','ã…€','ã…','ã…‚','ã…„','ã……','ã…†','ã…‡','ã…ˆ','ã…Š','ã…‹','ã…Œ','ã…','ã…'];

// ë³µí•© ëª¨ìŒ ì¡°í•©
const COMPOUND_VOWEL = {
  'ã…—ã…':'ã…˜', 'ã…—ã…':'ã…™', 'ã…—ã…£':'ã…š',
  'ã…œã…“':'ã…', 'ã…œã…”':'ã…', 'ã…œã…£':'ã…Ÿ',
  'ã…¡ã…£':'ã…¢'
};

// ë³µí•© ì¢…ì„± ì¡°í•©
const COMPOUND_JONG = {
  'ã„±ã……':'ã„³', 'ã„´ã…ˆ':'ã„µ', 'ã„´ã…':'ã„¶',
  'ã„¹ã„±':'ã„º', 'ã„¹ã…':'ã„»', 'ã„¹ã…‚':'ã„¼', 'ã„¹ã……':'ã„½',
  'ã„¹ã…Œ':'ã„¾', 'ã„¹ã…':'ã„¿', 'ã„¹ã…':'ã…€',
  'ã…‚ã……':'ã…„'
};

// ë³µí•© ì¢…ì„± ë¶„ë¦¬
const SPLIT_JONG = {};
for (const [k, v] of Object.entries(COMPOUND_JONG)) {
  SPLIT_JONG[v] = [k[0], k[1]];
}

// ë³µí•© ëª¨ìŒ ë¶„ë¦¬
const SPLIT_VOWEL = {};
for (const [k, v] of Object.entries(COMPOUND_VOWEL)) {
  SPLIT_VOWEL[v] = [k[0], k[1]];
}

function isJamo(ch) {
  const c = ch.charCodeAt(0);
  return (c >= 0x3131 && c <= 0x3163);
}

function isChosung(ch) { return CHO.includes(ch); }
function isJungsung(ch) { return JUNG.includes(ch); }
function isConsonant(ch) { return isChosung(ch) && !isJungsung(ch); }
function isVowel(ch) { return isJungsung(ch); }

// ì˜ë¬¸ â†’ í•œê¸€ ë³€í™˜
function engToKor(text) {
  // 1. ì˜ë¬¸ì„ ìëª¨ë¡œ ë³€í™˜
  const jamo = [];
  for (const ch of text) {
    jamo.push(ENG_TO_KOR[ch] || ch);
  }

  // 2. ìëª¨ë¥¼ í•œê¸€ ìŒì ˆë¡œ ì¡°í•©
  let result = '';
  let i = 0;

  while (i < jamo.length) {
    const cur = jamo[i];

    // ì´ˆì„±ì´ ë  ìˆ˜ ìˆëŠ” ììŒì¸ì§€
    if (isConsonant(cur)) {
      // ë‹¤ìŒì´ ëª¨ìŒì¸ì§€ í™•ì¸
      if (i + 1 < jamo.length && isVowel(jamo[i + 1])) {
        const cho = CHO.indexOf(cur);
        let jungIdx;
        let jung = jamo[i + 1];
        let consumed = 2; // ì´ˆì„± + ì¤‘ì„±

        // ë³µí•© ëª¨ìŒ í™•ì¸
        if (i + 2 < jamo.length) {
          const compound = COMPOUND_VOWEL[jung + jamo[i + 2]];
          if (compound) {
            jung = compound;
            consumed = 3;
          }
        }

        jungIdx = JUNG.indexOf(jung);

        // ì¢…ì„± í™•ì¸
        let jongIdx = 0;
        const afterVowel = i + consumed;

        if (afterVowel < jamo.length && isConsonant(jamo[afterVowel])) {
          const possibleJong = jamo[afterVowel];

          // ë‹¤ìŒ ë‹¤ìŒì´ ëª¨ìŒì´ë©´ â†’ í˜„ì¬ ììŒì€ ë‹¤ìŒ ìŒì ˆì˜ ì´ˆì„±
          if (afterVowel + 1 < jamo.length && isVowel(jamo[afterVowel + 1])) {
            // ì¢…ì„± ì—†ìŒ
            jongIdx = 0;
          }
          // ë³µí•© ì¢…ì„± ê°€ëŠ¥?
          else if (afterVowel + 1 < jamo.length && isConsonant(jamo[afterVowel + 1])) {
            const compJong = COMPOUND_JONG[possibleJong + jamo[afterVowel + 1]];
            if (compJong) {
              // ë³µí•© ì¢…ì„± ë’¤ì— ëª¨ìŒì´ ì˜¤ë©´ â†’ ë³µí•© ì¢…ì„±ì„ ë¶„ë¦¬
              if (afterVowel + 2 < jamo.length && isVowel(jamo[afterVowel + 2])) {
                // ì• ììŒë§Œ ì¢…ì„±, ë’· ììŒì€ ë‹¤ìŒ ì´ˆì„±
                jongIdx = JONG.indexOf(possibleJong);
                if (jongIdx > 0) consumed += 1;
              } else {
                jongIdx = JONG.indexOf(compJong);
                if (jongIdx > 0) consumed += 2;
                else {
                  jongIdx = JONG.indexOf(possibleJong);
                  if (jongIdx > 0) consumed += 1;
                }
              }
            } else {
              jongIdx = JONG.indexOf(possibleJong);
              if (jongIdx > 0) consumed += 1;
            }
          } else {
            jongIdx = JONG.indexOf(possibleJong);
            if (jongIdx > 0) consumed += 1;
          }
        }

        if (cho >= 0 && jungIdx >= 0) {
          const code = 0xAC00 + cho * 21 * 28 + jungIdx * 28 + jongIdx;
          result += String.fromCharCode(code);
          i += consumed;
          continue;
        }
      }
    }

    result += cur;
    i++;
  }

  return result;
}

// í•œê¸€ ìŒì ˆ ë¶„í•´
function decompose(ch) {
  const code = ch.charCodeAt(0);
  if (code >= 0xAC00 && code <= 0xD7A3) {
    const offset = code - 0xAC00;
    const cho = Math.floor(offset / (21 * 28));
    const jung = Math.floor((offset % (21 * 28)) / 28);
    const jong = offset % 28;
    const parts = [CHO[cho], JUNG[jung]];
    if (jong > 0) parts.push(JONG[jong]);
    return parts;
  }
  return [ch];
}

// í•œê¸€ â†’ ì˜ë¬¸ ë³€í™˜
function korToEng(text) {
  let result = '';
  for (const ch of text) {
    const code = ch.charCodeAt(0);
    // ì™„ì„±í˜• í•œê¸€
    if (code >= 0xAC00 && code <= 0xD7A3) {
      const parts = decompose(ch);
      for (const jm of parts) {
        // ë³µí•© ëª¨ìŒ ë¶„ë¦¬
        if (SPLIT_VOWEL[jm]) {
          for (const v of SPLIT_VOWEL[jm]) {
            result += KOR_TO_ENG[v] || v;
          }
        }
        // ë³µí•© ì¢…ì„± ë¶„ë¦¬
        else if (SPLIT_JONG[jm]) {
          for (const c of SPLIT_JONG[jm]) {
            result += KOR_TO_ENG[c] || c;
          }
        } else {
          result += KOR_TO_ENG[jm] || jm;
        }
      }
    }
    // ìëª¨
    else if (isJamo(ch)) {
      if (SPLIT_VOWEL[ch]) {
        for (const v of SPLIT_VOWEL[ch]) result += KOR_TO_ENG[v] || v;
      } else if (SPLIT_JONG[ch]) {
        for (const c of SPLIT_JONG[ch]) result += KOR_TO_ENG[c] || c;
      } else {
        result += KOR_TO_ENG[ch] || ch;
      }
    }
    // ë‚˜ë¨¸ì§€
    else {
      result += ch;
    }
  }
  return result;
}

// ===== UI =====
const inputText = document.getElementById('inputText');
const outputText = document.getElementById('outputText');
const inputLabel = document.getElementById('inputLabel');
const outputLabel = document.getElementById('outputLabel');
const inputCount = document.getElementById('inputCount');
const outputCount = document.getElementById('outputCount');
const toastEl = document.getElementById('toast');

let mode = 'engToKor'; // 'engToKor' or 'korToEng'

const examples = {
  engToKor: [
    { from: 'dkssudgktpdy', to: 'ì•ˆë…•í•˜ì„¸ìš”' },
    { from: 'dkfrhdwjrdmf tpvmfhsmsqjq', to: 'ì•ìœ¼ë¡œì˜ë¶€íƒë“œë¦½ë‹ˆë‹¤' },
    { from: 'rhkdrmadmfgkf', to: 'ê´‘ê³ ë¥¼í•˜ì' },
    { from: 'Tlfrhddml qkekahrl', to: 'ì‹¤ê³ ì˜ë°”ë‹¤ê±°ë¦¬' },
  ],
  korToEng: [
    { from: 'ã…—ë””ã…£ã…', to: 'hello' },
    { from: 'ã…ã…ã…ã…ã…£ã„·', to: 'google' },
    { from: 'ã…ˆã„·ã… ì‡¼ã…›ã„·', to: 'website' },
    { from: 'ã…”ã„±ã…ã…ã„±í‚¤', to: 'program' },
  ]
};

function updateLabels() {
  if (mode === 'engToKor') {
    inputLabel.textContent = 'ì…ë ¥ (ì˜íƒ€ â†’ í•œê¸€)';
    outputLabel.textContent = 'ê²°ê³¼ (í•œê¸€)';
    inputText.placeholder = 'ì˜ì–´ ëª¨ë“œì—ì„œ ì…ë ¥í•œ í…ìŠ¤íŠ¸... ì˜ˆ: dkssudgktpdy';
  } else {
    inputLabel.textContent = 'ì…ë ¥ (í•œíƒ€ â†’ ì˜ì–´)';
    outputLabel.textContent = 'ê²°ê³¼ (ì˜ì–´)';
    inputText.placeholder = 'í•œê¸€ ëª¨ë“œì—ì„œ ì…ë ¥í•œ í…ìŠ¤íŠ¸... ì˜ˆ: ã…—ë””ã…£ã…';
  }
  renderExamples();
}

function convert() {
  const text = inputText.value;
  if (!text) {
    outputText.value = '';
    updateCharCounts();
    return;
  }
  outputText.value = mode === 'engToKor' ? engToKor(text) : korToEng(text);
  updateCharCounts();
}

function updateCharCounts() {
  inputCount.textContent = inputText.value.length + 'ì';
  outputCount.textContent = outputText.value.length + 'ì';
}

function renderExamples() {
  const grid = document.getElementById('exampleGrid');
  const list = examples[mode];
  grid.innerHTML = list.map(ex =>
    `<div class="example-item" onclick="tryExample('${ex.from.replace(/'/g, "\\'")}')">
      <div class="example-from">${ex.from}</div>
      <div class="example-arrow">â†“</div>
      <div class="example-to">${ex.to}</div>
    </div>`
  ).join('');
}

function tryExample(text) {
  inputText.value = text;
  convert();
  inputText.focus();
}

// ì‹¤ì‹œê°„ ë³€í™˜
inputText.addEventListener('input', convert);

// ë°©í–¥ ì „í™˜
document.getElementById('btnSwap').addEventListener('click', () => {
  mode = mode === 'engToKor' ? 'korToEng' : 'engToKor';
  // ê²°ê³¼ë¥¼ ì…ë ¥ìœ¼ë¡œ ì´ë™
  const prevOutput = outputText.value;
  inputText.value = '';
  outputText.value = '';
  updateLabels();
  if (prevOutput) {
    inputText.value = prevOutput;
    convert();
  }
});

// ë³µì‚¬
document.getElementById('btnCopy').addEventListener('click', async () => {
  if (!outputText.value) return;
  try {
    await navigator.clipboard.writeText(outputText.value);
    showToast('ë³€í™˜ ê²°ê³¼ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤');
  } catch (e) {
    outputText.select();
    document.execCommand('copy');
    showToast('ë³€í™˜ ê²°ê³¼ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤');
  }
});

// ì‚­ì œ
document.getElementById('btnClearInput').addEventListener('click', () => {
  inputText.value = '';
  outputText.value = '';
  updateCharCounts();
  inputText.focus();
});

function showToast(msg) {
  toastEl.textContent = msg;
  toastEl.classList.add('show');
  setTimeout(() => toastEl.classList.remove('show'), 2000);
}

function toggleFaq(el) { el.parentElement.classList.toggle('open'); }

// ì´ˆê¸°í™”
updateLabels();
</script>
</body>
</html>
